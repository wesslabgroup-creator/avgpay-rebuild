generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Salary {
  id                  String   @id @default(cuid())
  createdAt           DateTime @default(now())

  locationState       String
  locationCity        String
  specialty           String
  yearsExperience     Int
  payRateHourly       Float
  overtimeRateHourly  Float?
  stipendWeekly       Float?
  bonusesAnnual       Float?
}

model AggregateSalary {
  id            String @id @default(cuid())
  createdAt     DateTime @default(now())
  occupation    String
  meanAnnual    Float?
  source        String
  year          Int
  area          String?  /// "national", "state_code", etc.
  meanHourly    Float?

  @@unique([occupation, source, year, area], name: "unique_agg_salary")
}

model Metrics {
  id              String    @id @default(cuid())
  createdAt       DateTime  @default(now())
  date            DateTime
  source          String
  usersNew        Int?
  usersTotal      Int?
  sessions        Int?
  pageviews       Int?
  revenue         Float?
  builds          Int?
  functionsInvoked Int?

  @@unique([date, source])
}
